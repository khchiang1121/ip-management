{% extends "base.html" %}

{% block head %}
   <link rel="stylesheet" href="{{ url_for('static',filename='assets/css/login.css') }}" />
{% endblock head %}

{% block title %}
<div class="bg-img">
   <div class="content">
      <header><br>Register</header>
      {% with messages = get_flashed_messages() %}
          {% if messages %}
              <div class="notification is-danger">
                  {{ messages[0] }}
              </div>
          {% endif %}
      {% endwith %}
      <form method="POST" action="">
         <div class="field">
            <span class="fa fa-user"></span>
            <input type="text" name="username" required placeholder="Account" autofocus="" value={{username}}>
         </div>
         <div class="field space">
            <span class="fa fa-lock"></span>
            <input type="password" class="pass-key" name="password" required placeholder="Password" value={{password}}>
            <span class="show">SHOW</span>
         </div>
         <div class="field space">
            <span class="fa fa-lock"></span>
            <input type="password" class="pass-key" name="confirm_password" required placeholder="Confirm Password" value={{password}}>
            <span class="show">SHOW</span>
         </div>
         <div class="field space">
            <label for="role" class="form-label text-white">Role</label>
            <select id="role" name="role" class="form-select" required name="role">
               <option value="User">User</option>
               <option value="Admin">Admin</option>
            </select>
         </div>
         <div class="pass">

         </div>
         <div class="field">
            <input type="submit" name="register" value="註冊">
         </div>
      </form>
   </div>
</div>
<script>
   const pass_field = document.querySelector('.pass-key');
   const showBtn = document.querySelector('.show');
   showBtn.addEventListener('click', function(){
    if(pass_field.type === "password"){
      pass_field.type = "text";
      showBtn.textContent = "HIDE";
      showBtn.style.color = "#3498db";
    }else{
      pass_field.type = "password";
      showBtn.textContent = "SHOW";
      showBtn.style.color = "#222";
    }
   });
</script>

{% endblock title %}

{% block main %}

{% endblock main %}
